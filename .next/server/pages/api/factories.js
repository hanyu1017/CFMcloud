"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/factories";
exports.ids = ["pages/api/factories"];
exports.modules = {

/***/ "dotenv":
/*!*************************!*\
  !*** external "dotenv" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("dotenv");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = import("pg");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffactories&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfactories%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffactories&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfactories%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_factories_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\factories\\index.js */ \"(api)/./pages/api/factories/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_factories_index_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_factories_index_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_factories_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_factories_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/factories\",\n        pathname: \"/api/factories\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_factories_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmZhY3RvcmllcyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZmFjdG9yaWVzJTVDaW5kZXguanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDBEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQywwREFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWN0b3J5LWRhc2hib2FyZC8/ZTE4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGZhY3Rvcmllc1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZhY3Rvcmllc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2ZhY3Rvcmllc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffactories&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfactories%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/database.js":
/*!*************************!*\
  !*** ./lib/database.js ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dotenv */ \"dotenv\");\n/* harmony import */ var dotenv__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dotenv__WEBPACK_IMPORTED_MODULE_1__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([pg__WEBPACK_IMPORTED_MODULE_0__]);\npg__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// lib/database.js\n\n\ndotenv__WEBPACK_IMPORTED_MODULE_1___default().config();\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n    connectionString: process.env.DATABASE_URL,\n    ssl: {\n        rejectUnauthorized: false\n    }\n});\n// Add error handling for the pool\npool.on(\"error\", (err)=>{\n    console.error(\"Unexpected error on idle client\", err);\n    process.exit(-1);\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (pool);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGF0YWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLGtCQUFrQjtBQUNRO0FBQ0U7QUFFNUJDLG9EQUFhO0FBRWIsTUFBTUUsT0FBTyxJQUFJSCxvQ0FBSUEsQ0FBQztJQUNwQkksa0JBQWtCQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7SUFDMUNDLEtBQUs7UUFDSEMsb0JBQW9CO0lBQ3RCO0FBQ0Y7QUFFQSxrQ0FBa0M7QUFDbENOLEtBQUtPLEVBQUUsQ0FBQyxTQUFTLENBQUNDO0lBQ2hCQyxRQUFRQyxLQUFLLENBQUMsbUNBQW1DRjtJQUNqRE4sUUFBUVMsSUFBSSxDQUFDLENBQUM7QUFDaEI7QUFFQSxpRUFBZVgsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2ZhY3RvcnktZGFzaGJvYXJkLy4vbGliL2RhdGFiYXNlLmpzP2VlYTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL2RhdGFiYXNlLmpzXHJcbmltcG9ydCB7IFBvb2wgfSBmcm9tICdwZyc7XHJcbmltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcclxuXHJcbmRvdGVudi5jb25maWcoKTtcclxuXHJcbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XHJcbiAgY29ubmVjdGlvblN0cmluZzogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxyXG4gIHNzbDoge1xyXG4gICAgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZVxyXG4gIH1cclxufSk7XHJcblxyXG4vLyBBZGQgZXJyb3IgaGFuZGxpbmcgZm9yIHRoZSBwb29sXHJcbnBvb2wub24oJ2Vycm9yJywgKGVycikgPT4ge1xyXG4gIGNvbnNvbGUuZXJyb3IoJ1VuZXhwZWN0ZWQgZXJyb3Igb24gaWRsZSBjbGllbnQnLCBlcnIpO1xyXG4gIHByb2Nlc3MuZXhpdCgtMSk7XHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcG9vbDtcclxuIl0sIm5hbWVzIjpbIlBvb2wiLCJkb3RlbnYiLCJjb25maWciLCJwb29sIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJzc2wiLCJyZWplY3RVbmF1dGhvcml6ZWQiLCJvbiIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsImV4aXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/database.js\n");

/***/ }),

/***/ "(api)/./pages/api/factories/index.js":
/*!**************************************!*\
  !*** ./pages/api/factories/index.js ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/database */ \"(api)/./lib/database.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_database__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// pages/api/factories/index.js\n\nasync function handler(req, res) {\n    switch(req.method){\n        case \"GET\":\n            return await getFactories(req, res);\n        case \"POST\":\n            return await createFactory(req, res);\n        default:\n            res.setHeader(\"Allow\", [\n                \"GET\",\n                \"POST\"\n            ]);\n            res.status(405).json({\n                error: `Method ${req.method} Not Allowed`\n            });\n    }\n}\n// 獲取所有工廠\nasync function getFactories(req, res) {\n    try {\n        const { status, search, sortBy = \"name\", order = \"ASC\" } = req.query;\n        let query = `\r\n      SELECT \r\n        factory_id,\r\n        name,\r\n        location,\r\n        status,\r\n        employees,\r\n        efficiency,\r\n        power_consumption,\r\n        production_rate,\r\n        last_maintenance,\r\n        alerts,\r\n        created_at,\r\n        updated_at\r\n      FROM factories\r\n    `;\n        const conditions = [];\n        const values = [];\n        // 狀態篩選\n        if (status && status !== \"all\") {\n            conditions.push(`status = $${values.length + 1}`);\n            values.push(status);\n        }\n        // 搜索條件\n        if (search) {\n            conditions.push(`(name ILIKE $${values.length + 1} OR location ILIKE $${values.length + 2})`);\n            values.push(`%${search}%`, `%${search}%`);\n        }\n        // 添加WHERE條件\n        if (conditions.length > 0) {\n            query += ` WHERE ${conditions.join(\" AND \")}`;\n        }\n        // 排序\n        const validSortFields = [\n            \"name\",\n            \"efficiency\",\n            \"alerts\",\n            \"created_at\"\n        ];\n        const sortField = validSortFields.includes(sortBy) ? sortBy : \"name\";\n        const sortOrder = order.toUpperCase() === \"DESC\" ? \"DESC\" : \"ASC\";\n        query += ` ORDER BY ${sortField} ${sortOrder}`;\n        const result = await _lib_database__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(query, values);\n        res.status(200).json(result.rows);\n    } catch (err) {\n        console.error(\"獲取工廠數據錯誤：\", err);\n        res.status(500).json({\n            error: \"伺服器錯誤\",\n            detail: err.message\n        });\n    }\n}\n// 創建新工廠\nasync function createFactory(req, res) {\n    try {\n        const { name, location, status = \"offline\", employees = 0, efficiency = 0, power_consumption = 0, production_rate = 0 } = req.body;\n        // 驗證必要欄位\n        if (!name || !location) {\n            return res.status(400).json({\n                error: \"缺少必要欄位\",\n                detail: \"工廠名稱和地址為必填項目\"\n            });\n        }\n        const query = `\r\n      INSERT INTO factories (\r\n        name, location, status, employees, efficiency, \r\n        power_consumption, production_rate, alerts\r\n      ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8)\r\n      RETURNING *\r\n    `;\n        const values = [\n            name,\n            location,\n            status,\n            employees,\n            efficiency,\n            power_consumption,\n            production_rate,\n            0 // 初始警報數為0\n        ];\n        const result = await _lib_database__WEBPACK_IMPORTED_MODULE_0__[\"default\"].query(query, values);\n        res.status(201).json(result.rows[0]);\n    } catch (err) {\n        console.error(\"創建工廠錯誤：\", err);\n        res.status(500).json({\n            error: \"伺服器錯誤\",\n            detail: err.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7Z0JBQzFCQyxPQUFPO2dCQUNQbUIsUUFBUTtZQUNWO1FBQ0Y7UUFFQSxNQUFNZixRQUFRLENBQUM7Ozs7OztJQU1mLENBQUM7UUFFRCxNQUFNRSxTQUFTO1lBQ2JlO1lBQ0FDO1lBQ0F4QjtZQUNBeUI7WUFDQUM7WUFDQUM7WUFDQUM7WUFDQSxFQUFFLFVBQVU7U0FDYjtRQUVELE1BQU1YLFNBQVMsTUFBTXpCLDJEQUFVLENBQUNjLE9BQU9FO1FBQ3ZDYixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDZ0IsT0FBT0MsSUFBSSxDQUFDLEVBQUU7SUFDckMsRUFBRSxPQUFPQyxLQUFLO1FBQ1pDLFFBQVFsQixLQUFLLENBQUMsV0FBV2lCO1FBQ3pCeEIsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUNuQkMsT0FBTztZQUNQbUIsUUFBUUYsSUFBSUcsT0FBTztRQUNyQjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWN0b3J5LWRhc2hib2FyZC8uL3BhZ2VzL2FwaS9mYWN0b3JpZXMvaW5kZXguanM/Yjc0NyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvZmFjdG9yaWVzL2luZGV4LmpzXHJcbmltcG9ydCBwb29sIGZyb20gXCIuLi8uLi8uLi9saWIvZGF0YWJhc2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcclxuICBzd2l0Y2ggKHJlcS5tZXRob2QpIHtcclxuICAgIGNhc2UgJ0dFVCc6XHJcbiAgICAgIHJldHVybiBhd2FpdCBnZXRGYWN0b3JpZXMocmVxLCByZXMpO1xyXG4gICAgY2FzZSAnUE9TVCc6XHJcbiAgICAgIHJldHVybiBhd2FpdCBjcmVhdGVGYWN0b3J5KHJlcSwgcmVzKTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUE9TVCddKTtcclxuICAgICAgcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIOeNsuWPluaJgOacieW3peW7oFxyXG5hc3luYyBmdW5jdGlvbiBnZXRGYWN0b3JpZXMocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzdGF0dXMsIHNlYXJjaCwgc29ydEJ5ID0gJ25hbWUnLCBvcmRlciA9ICdBU0MnIH0gPSByZXEucXVlcnk7XHJcbiAgICBcclxuICAgIGxldCBxdWVyeSA9IGBcclxuICAgICAgU0VMRUNUIFxyXG4gICAgICAgIGZhY3RvcnlfaWQsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsb2NhdGlvbixcclxuICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgZW1wbG95ZWVzLFxyXG4gICAgICAgIGVmZmljaWVuY3ksXHJcbiAgICAgICAgcG93ZXJfY29uc3VtcHRpb24sXHJcbiAgICAgICAgcHJvZHVjdGlvbl9yYXRlLFxyXG4gICAgICAgIGxhc3RfbWFpbnRlbmFuY2UsXHJcbiAgICAgICAgYWxlcnRzLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgdXBkYXRlZF9hdFxyXG4gICAgICBGUk9NIGZhY3Rvcmllc1xyXG4gICAgYDtcclxuICAgIFxyXG4gICAgY29uc3QgY29uZGl0aW9ucyA9IFtdO1xyXG4gICAgY29uc3QgdmFsdWVzID0gW107XHJcbiAgICBcclxuICAgIC8vIOeLgOaFi+evqemBuFxyXG4gICAgaWYgKHN0YXR1cyAmJiBzdGF0dXMgIT09ICdhbGwnKSB7XHJcbiAgICAgIGNvbmRpdGlvbnMucHVzaChgc3RhdHVzID0gJCR7dmFsdWVzLmxlbmd0aCArIDF9YCk7XHJcbiAgICAgIHZhbHVlcy5wdXNoKHN0YXR1cyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOaQnOe0ouaineS7tlxyXG4gICAgaWYgKHNlYXJjaCkge1xyXG4gICAgICBjb25kaXRpb25zLnB1c2goYChuYW1lIElMSUtFICQke3ZhbHVlcy5sZW5ndGggKyAxfSBPUiBsb2NhdGlvbiBJTElLRSAkJHt2YWx1ZXMubGVuZ3RoICsgMn0pYCk7XHJcbiAgICAgIHZhbHVlcy5wdXNoKGAlJHtzZWFyY2h9JWAsIGAlJHtzZWFyY2h9JWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDmt7vliqBXSEVSReaineS7tlxyXG4gICAgaWYgKGNvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xyXG4gICAgICBxdWVyeSArPSBgIFdIRVJFICR7Y29uZGl0aW9ucy5qb2luKCcgQU5EICcpfWA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOaOkuW6j1xyXG4gICAgY29uc3QgdmFsaWRTb3J0RmllbGRzID0gWyduYW1lJywgJ2VmZmljaWVuY3knLCAnYWxlcnRzJywgJ2NyZWF0ZWRfYXQnXTtcclxuICAgIGNvbnN0IHNvcnRGaWVsZCA9IHZhbGlkU29ydEZpZWxkcy5pbmNsdWRlcyhzb3J0QnkpID8gc29ydEJ5IDogJ25hbWUnO1xyXG4gICAgY29uc3Qgc29ydE9yZGVyID0gb3JkZXIudG9VcHBlckNhc2UoKSA9PT0gJ0RFU0MnID8gJ0RFU0MnIDogJ0FTQyc7XHJcbiAgICBxdWVyeSArPSBgIE9SREVSIEJZICR7c29ydEZpZWxkfSAke3NvcnRPcmRlcn1gO1xyXG4gICAgXHJcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBwb29sLnF1ZXJ5KHF1ZXJ5LCB2YWx1ZXMpO1xyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24ocmVzdWx0LnJvd3MpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIueNsuWPluW3peW7oOaVuOaTmumMr+iqpO+8mlwiLCBlcnIpO1xyXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICBlcnJvcjogXCLkvLrmnI3lmajpjK/oqqRcIixcclxuICAgICAgZGV0YWlsOiBlcnIubWVzc2FnZSxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuLy8g5Ym15bu65paw5bel5bugXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUZhY3RvcnkocmVxLCByZXMpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBuYW1lLFxyXG4gICAgICBsb2NhdGlvbixcclxuICAgICAgc3RhdHVzID0gJ29mZmxpbmUnLFxyXG4gICAgICBlbXBsb3llZXMgPSAwLFxyXG4gICAgICBlZmZpY2llbmN5ID0gMCxcclxuICAgICAgcG93ZXJfY29uc3VtcHRpb24gPSAwLFxyXG4gICAgICBwcm9kdWN0aW9uX3JhdGUgPSAwXHJcbiAgICB9ID0gcmVxLmJvZHk7XHJcbiAgICBcclxuICAgIC8vIOmpl+itieW/heimgeashOS9jVxyXG4gICAgaWYgKCFuYW1lIHx8ICFsb2NhdGlvbikge1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgIGVycm9yOiBcIue8uuWwkeW/heimgeashOS9jVwiLFxyXG4gICAgICAgIGRldGFpbDogXCLlt6Xlu6DlkI3nqLHlkozlnLDlnYDngrrlv4XloavpoIXnm65cIlxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgcXVlcnkgPSBgXHJcbiAgICAgIElOU0VSVCBJTlRPIGZhY3RvcmllcyAoXHJcbiAgICAgICAgbmFtZSwgbG9jYXRpb24sIHN0YXR1cywgZW1wbG95ZWVzLCBlZmZpY2llbmN5LCBcclxuICAgICAgICBwb3dlcl9jb25zdW1wdGlvbiwgcHJvZHVjdGlvbl9yYXRlLCBhbGVydHNcclxuICAgICAgKSBWQUxVRVMgKCQxLCAkMiwgJDMsICQ0LCAkNSwgJDYsICQ3LCAkOClcclxuICAgICAgUkVUVVJOSU5HICpcclxuICAgIGA7XHJcbiAgICBcclxuICAgIGNvbnN0IHZhbHVlcyA9IFtcclxuICAgICAgbmFtZSxcclxuICAgICAgbG9jYXRpb24sXHJcbiAgICAgIHN0YXR1cyxcclxuICAgICAgZW1wbG95ZWVzLFxyXG4gICAgICBlZmZpY2llbmN5LFxyXG4gICAgICBwb3dlcl9jb25zdW1wdGlvbixcclxuICAgICAgcHJvZHVjdGlvbl9yYXRlLFxyXG4gICAgICAwIC8vIOWIneWni+itpuWgseaVuOeCujBcclxuICAgIF07XHJcbiAgICBcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHBvb2wucXVlcnkocXVlcnksIHZhbHVlcyk7XHJcbiAgICByZXMuc3RhdHVzKDIwMSkuanNvbihyZXN1bHQucm93c1swXSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi5Ym15bu65bel5bug6Yyv6Kqk77yaXCIsIGVycik7XHJcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XHJcbiAgICAgIGVycm9yOiBcIuS8uuacjeWZqOmMr+iqpFwiLFxyXG4gICAgICBkZXRhaWw6IGVyci5tZXNzYWdlLFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJwb29sIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsImdldEZhY3RvcmllcyIsImNyZWF0ZUZhY3RvcnkiLCJzZXRIZWFkZXIiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZWFyY2giLCJzb3J0QnkiLCJvcmRlciIsInF1ZXJ5IiwiY29uZGl0aW9ucyIsInZhbHVlcyIsInB1c2giLCJsZW5ndGgiLCJqb2luIiwidmFsaWRTb3J0RmllbGRzIiwic29ydEZpZWxkIiwiaW5jbHVkZXMiLCJzb3J0T3JkZXIiLCJ0b1VwcGVyQ2FzZSIsInJlc3VsdCIsInJvd3MiLCJlcnIiLCJjb25zb2xlIiwiZGV0YWlsIiwibWVzc2FnZSIsIm5hbWUiLCJsb2NhdGlvbiIsImVtcGxveWVlcyIsImVmZmljaWVuY3kiLCJwb3dlcl9jb25zdW1wdGlvbiIsInByb2R1Y3Rpb25fcmF0ZSIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/factories/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffactories&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfactories%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();