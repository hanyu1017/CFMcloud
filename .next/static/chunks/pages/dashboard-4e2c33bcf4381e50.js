(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26],{1015:function(e,a,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return r(5533)}])},5533:function(e,a,r){"use strict";r.r(a),r.d(a,{default:function(){return b}});var t=r(5893),s=r(7294),n=r(6725),i=r(4715),l=r(723),c=r(7017),d=r(5615),o=r(8793),h=r(4570),g=r(8042),m=r(1712),x=r(9984),v=r(1536),y=r(6611),u=r(3759);let j=(0,u.Z)("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),p=(0,u.Z)("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);var N=r(437);let f={overviewStats:{totalEnergyConsumption:15420,greenEnergyRatio:68.5,carbonEmission:2340,carbonReduction:15.2},departmentEnergy:{manufacturing:{total:10250,green:6830,traditional:3420,greenRatio:66.6},retail:{total:5170,green:3730,traditional:1440,greenRatio:72.1}},carbonTargets:{weekly:{target:580,current:445,progress:76.7},monthly:{target:2500,current:1890,progress:75.6},yearly:{target:3e4,current:22680,progress:75.6}},energyTrend:[{month:"1月",green:420,traditional:180,total:600},{month:"2月",green:480,traditional:160,total:640},{month:"3月",green:520,traditional:140,total:660},{month:"4月",green:580,traditional:120,total:700},{month:"5月",green:640,traditional:100,total:740},{month:"6月",green:680,traditional:90,total:770}],alerts:[{id:1,type:"high",level:"warning",message:"製造部門A棟傳統電力使用超標10%",factory:"台北廠區 - A棟",time:"2小時前"},{id:2,type:"low",level:"success",message:"零售部門本週綠電使用率達成75%目標",factory:"台中廠區 - 零售部",time:"4小時前"},{id:3,type:"low",level:"info",message:"新增太陽能板已安裝完成，預計增加15%發電量",factory:"高雄廠區 - 屋頂",time:"1天前"}]};function b(){let[e,a]=(0,s.useState)(!0),[r,u]=(0,s.useState)(f);return((0,s.useEffect)(()=>{setTimeout(()=>a(!1),1e3)},[]),e)?(0,t.jsx)(n.Z,{children:(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)("div",{className:"spinner"})})}):(0,t.jsxs)(n.Z,{children:[(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsx)("h1",{className:"page-title",children:"儀表板總覽"}),(0,t.jsx)("p",{className:"page-subtitle",children:"即時監控所有工廠的碳排放與能源使用狀況"})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{className:"card-title",children:"關鍵指標"}),(0,t.jsx)("p",{className:"card-subtitle",children:"本月度關鍵績效指標概覽"})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"grid grid-cols-4",children:[(0,t.jsx)(k,{icon:(0,t.jsx)(y.Z,{}),title:"總能源消耗",value:"".concat(r.overviewStats.totalEnergyConsumption.toLocaleString()),unit:"kWh",change:"+5.2%",type:"warning"}),(0,t.jsx)(k,{icon:(0,t.jsx)(j,{}),title:"綠能佔比",value:"".concat(r.overviewStats.greenEnergyRatio),unit:"%",change:"+2.1%",type:"success"}),(0,t.jsx)(k,{icon:(0,t.jsx)(p,{}),title:"碳排放量",value:"".concat(r.overviewStats.carbonEmission.toLocaleString()),unit:"噸",change:"-3.4%",type:"success"}),(0,t.jsx)(k,{icon:(0,t.jsx)(N.Z,{}),title:"減碳成效",value:"".concat(r.overviewStats.carbonReduction),unit:"%",change:"+1.2%",type:"success"})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2",style:{marginTop:"var(--space-6)"},children:[(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{className:"card-title",children:"能源使用趨勢"}),(0,t.jsx)("p",{className:"card-subtitle",children:"過去6個月綠能與傳統能源使用對比"})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(i.h,{width:"100%",height:300,children:(0,t.jsxs)(l.w,{data:r.energyTrend,children:[(0,t.jsx)(c.q,{strokeDasharray:"3 3",stroke:"var(--gray-200)"}),(0,t.jsx)(d.K,{dataKey:"month",stroke:"var(--gray-600)",fontSize:12}),(0,t.jsx)(o.B,{stroke:"var(--gray-600)",fontSize:12}),(0,t.jsx)(h.u,{contentStyle:{backgroundColor:"var(--white)",border:"1px solid var(--gray-200)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-lg)"}}),(0,t.jsx)(g.D,{}),(0,t.jsx)(m.x,{type:"monotone",dataKey:"green",stroke:"var(--success)",strokeWidth:3,name:"綠能 (kWh)",dot:{fill:"var(--success)",strokeWidth:2,r:4}}),(0,t.jsx)(m.x,{type:"monotone",dataKey:"traditional",stroke:"var(--danger)",strokeWidth:3,name:"傳統能源 (kWh)",dot:{fill:"var(--danger)",strokeWidth:2,r:4}})]})})})]}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{className:"card-title",children:"部門用電分析"}),(0,t.jsx)("p",{className:"card-subtitle",children:"各部門綠能與傳統能源消耗比較"})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsx)(i.h,{width:"100%",height:300,children:(0,t.jsxs)(x.v,{data:[{name:"製造部門",green:r.departmentEnergy.manufacturing.green,traditional:r.departmentEnergy.manufacturing.traditional},{name:"零售部門",green:r.departmentEnergy.retail.green,traditional:r.departmentEnergy.retail.traditional}],children:[(0,t.jsx)(c.q,{strokeDasharray:"3 3",stroke:"var(--gray-200)"}),(0,t.jsx)(d.K,{dataKey:"name",stroke:"var(--gray-600)",fontSize:12}),(0,t.jsx)(o.B,{stroke:"var(--gray-600)",fontSize:12}),(0,t.jsx)(h.u,{contentStyle:{backgroundColor:"var(--white)",border:"1px solid var(--gray-200)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-lg)"}}),(0,t.jsx)(g.D,{}),(0,t.jsx)(v.$,{dataKey:"green",fill:"var(--success)",name:"綠能 (kWh)",radius:[0,0,4,4]}),(0,t.jsx)(v.$,{dataKey:"traditional",fill:"var(--danger)",name:"傳統能源 (kWh)",radius:[4,4,0,0]})]})})})]})]}),(0,t.jsxs)("div",{className:"card",style:{marginTop:"var(--space-6)"},children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{className:"card-title",children:"碳排放目標達成進度"}),(0,t.jsx)("p",{className:"card-subtitle",children:"各時間段減碳目標完成狀況"})]}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"grid grid-cols-3",children:[(0,t.jsx)(w,{title:"本週目標",current:r.carbonTargets.weekly.current,target:r.carbonTargets.weekly.target,progress:r.carbonTargets.weekly.progress,unit:"噸 CO₂"}),(0,t.jsx)(w,{title:"本月目標",current:r.carbonTargets.monthly.current,target:r.carbonTargets.monthly.target,progress:r.carbonTargets.monthly.progress,unit:"噸 CO₂"}),(0,t.jsx)(w,{title:"年度目標",current:r.carbonTargets.yearly.current,target:r.carbonTargets.yearly.target,progress:r.carbonTargets.yearly.progress,unit:"噸 CO₂"})]})})]}),(0,t.jsxs)("div",{className:"card",style:{marginTop:"var(--space-6)"},children:[(0,t.jsxs)("div",{className:"card-header",children:[(0,t.jsx)("h2",{className:"card-title",children:"最新警報"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"var(--space-3)"},children:[(0,t.jsx)("button",{className:"btn btn-secondary",children:"查看全部"}),(0,t.jsx)("button",{className:"btn btn-primary",children:"新增警報"})]})]}),(0,t.jsx)("div",{className:"alert-panel",children:r.alerts.map(e=>(0,t.jsxs)("div",{className:"alert-item alert-".concat(e.type),children:[(0,t.jsxs)("div",{className:"alert-header",children:[(0,t.jsx)("div",{className:"alert-title",children:e.message}),(0,t.jsx)("div",{className:"alert-time",children:e.time})]}),(0,t.jsxs)("div",{className:"alert-content",children:[(0,t.jsx)("div",{className:"alert-factory",children:e.factory}),(0,t.jsx)("div",{className:"alert-level ".concat(e.type),children:"high"===e.type&&"warning"===e.level?"警告":"low"===e.type&&"success"===e.level?"成功":"資訊"})]})]},e.id))})]})]})}function k(e){let{icon:a,title:r,value:s,unit:n,change:i,type:l}=e,c=i.startsWith("+");return(0,t.jsxs)("div",{className:"stat-card",children:[(0,t.jsx)("div",{className:"stat-icon",children:a}),(0,t.jsx)("div",{className:"stat-value",children:s}),(0,t.jsxs)("div",{className:"stat-label",children:[r," ",n&&"(".concat(n,")")]}),(0,t.jsx)("div",{className:"stat-change ".concat(c?"positive":"negative"),children:i})]})}function w(e){let{title:a,current:r,target:s,progress:n,unit:i}=e;return(0,t.jsx)("div",{className:"card",style:{textAlign:"center"},children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h3",{style:{fontSize:"var(--font-lg)",fontWeight:600,color:"var(--primary-900)",marginBottom:"var(--space-4)"},children:a}),(0,t.jsxs)("div",{style:{position:"relative",width:"120px",height:"120px",margin:"0 auto var(--space-4)"},children:[(0,t.jsxs)("svg",{width:"120",height:"120",style:{transform:"rotate(-90deg)"},children:[(0,t.jsx)("circle",{cx:"60",cy:"60",r:"50",stroke:"var(--gray-200)",strokeWidth:"8",fill:"none"}),(0,t.jsx)("circle",{cx:"60",cy:"60",r:"50",stroke:"var(--success)",strokeWidth:"8",fill:"none",strokeDasharray:"".concat(n/100*314," 314"),strokeLinecap:"round",style:{transition:"stroke-dasharray 0.5s ease-in-out"}})]}),(0,t.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"var(--font-xl)",fontWeight:700,color:"var(--primary-900)"},children:[n.toFixed(1),"%"]})]}),(0,t.jsxs)("div",{style:{fontSize:"var(--font-sm)",color:"var(--gray-600)"},children:[r.toLocaleString()," / ",s.toLocaleString()," ",i]})]})})}}},function(e){e.O(0,[476,725,888,774,179],function(){return e(e.s=1015)}),_N_E=e.O()}]);